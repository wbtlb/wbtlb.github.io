<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>2026 æ˜¥èŠ‚å€’è®¡æ—¶Â·ç‚«é…·åŠ å¼ºç‰ˆ</title>
<style>
  :root{
    --bg1:#080A1A;
    --bg2:#310C28;
    --accent:#FFD54A;
  }
  html,body{
    margin:0;height:100%;overflow:hidden;
    background:radial-gradient(circle at center,var(--bg2),var(--bg1) 80%);
    font-family:"Segoe UI","PingFang SC","Microsoft YaHei",sans-serif;
  }
  #fireworks{
    position:absolute;inset:0;z-index:1;pointer-events:none;
  }
  .stage{
    position:relative;z-index:10;height:100vh;width:100%;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    text-align:center;color:#fff;pointer-events:none;
  }
  .title{font-size:42px;font-weight:900;color:var(--accent);margin-bottom:8px;}
  .subtitle{opacity:.9;margin-bottom:28px;}
  .countdown{
    display:flex;gap:20px;padding:18px 22px;
    background:rgba(255,255,255,0.09);
    border-radius:18px;backdrop-filter:blur(6px);
  }
  .unit{min-width:100px;text-align:center;}
  .num{font-size:42px;font-weight:900;}
  .label{margin-top:4px;font-size:13px;opacity:.8;}

  .foot{
    position:absolute;bottom:30px;z-index:20;pointer-events:auto;
    display:flex;gap:12px;
  }
  .btn{
    padding:12px 20px;background:rgba(255,255,255,0.16);
    border:none;border-radius:12px;color:#fff;
    font-size:18px;cursor:pointer;font-weight:600;
    backdrop-filter:blur(4px);
  }

  .celebrate{
    margin-top:22px;padding:14px 24px;border-radius:20px;
    background:linear-gradient(90deg,#ffda7a,#ff8b8b);
    font-size:25px;font-weight:900;color:#300;
    opacity:0;transition:1s;transform:scale(.8);
  }
  .celebrate.show{opacity:1;transform:scale(1.1);}
</style>
</head>
<body>

<!-- çƒŸèŠ±ç”»å¸ƒ -->
<canvas id="fireworks"></canvas>

<!-- èƒŒæ™¯éŸ³ä¹ï¼ˆéšè—ï¼‰ -->
<audio id="bgm" loop preload="auto">
  <source src="https://files.catbox.moe/85y7ol.mp3" type="audio/mpeg">
</audio>

<div class="stage">
  <div class="title">2026 æ˜¥èŠ‚å€’è®¡æ—¶</div>
  <div class="subtitle">å€’è®¡æ—¶è‡³ï¼š2026-02-17 00:00:00</div>

  <div class="countdown">
    <div class="unit"><div class="num" id="days">0</div><div class="label">å¤©</div></div>
    <div class="unit"><div class="num" id="hours">0</div><div class="label">å°æ—¶</div></div>
    <div class="unit"><div class="num" id="minutes">0</div><div class="label">åˆ†é’Ÿ</div></div>
    <div class="unit"><div class="num" id="seconds">0</div><div class="label">ç§’</div></div>
  </div>

  <div class="celebrate" id="celebrate">ğŸ‰ æ–°å¹´å¿«ä¹ï¼ä¸‡äº‹é¡ºæ„ ğŸ‰</div>

  <div class="foot">
    <button class="btn" id="btnFire">æ”¾çƒŸèŠ±ï¼</button>
    <button class="btn" id="btnAutoFire">æŒç»­çƒŸèŠ±ï¼šOFF</button>
    <button class="btn" id="btnMusic">éŸ³ä¹ï¼šOFF</button>
  </div>
</div>

<script>
// ====== å€’è®¡æ—¶ =====================================================
const target = new Date(2026,1,17,0,0,0);
function update(){
  const now = new Date();
  let diff = target - now;
  if(diff < 0) diff = 0;

  const d = Math.floor(diff/86400000);
  const h = Math.floor(diff%86400000 / 3600000);
  const m = Math.floor(diff%3600000 / 60000);
  const s = Math.floor(diff%60000 / 1000);

  days.textContent = d;
  hours.textContent = h.toString().padStart(2,'0');
  minutes.textContent = m.toString().padStart(2,'0');
  seconds.textContent = s.toString().padStart(2,'0');

  if(diff === 0){
    celebrate();
    clearInterval(timer);
  }
}
const timer = setInterval(update,200);
update();


// ====== çƒŸèŠ±ç³»ç»Ÿ ================================================
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;
addEventListener("resize",()=>{W=canvas.width=innerWidth;H=canvas.height=innerHeight;});

function random(a,b){return Math.random()*(b-a)+a;}

class Particle{
  constructor(x,y,color,shape){
    this.x=x; this.y=y;
    this.color=color;
    this.alpha=1;
    this.life=1;
    this.shape=shape;

    const angle=random(0,Math.PI*2);
    const speed=random(1.5,6);

    this.vx=Math.cos(angle)*speed;
    this.vy=Math.sin(angle)*speed;
  }
  update(){
    this.vy+=0.03;
    this.x+=this.vx;
    this.y+=this.vy;
    this.life-=0.015;
    this.alpha=Math.max(this.life,0);
  }
  draw(){
    ctx.globalAlpha=this.alpha;
    ctx.fillStyle=this.color;

    if(this.shape==="star"){
      ctx.beginPath();
      ctx.arc(this.x,this.y,random(1,3),0,Math.PI*2);
      ctx.fill();
    }else if(this.shape==="ring"){
      ctx.beginPath();
      ctx.arc(this.x,this.y,2,0,Math.PI*2);
      ctx.fill();
    }else{
      ctx.fillRect(this.x,this.y,2,2);
    }
    ctx.globalAlpha=1;
  }
}

const particles=[];

function boom(x,y){
  const count = random(120,220);
  const hue = random(0,360);
  const shapes = ["star","ring","dot"];
  const shape = shapes[Math.floor(random(0,shapes.length))];

  for(let i=0;i<count;i++){
    const color = `hsl(${hue+random(-20,20)},100%,65%)`;
    particles.push(new Particle(x,y,color,shape));
  }
}

// è‡ªåŠ¨åŠ¨ç”»
function animate(){
  ctx.fillStyle="rgba(0,0,0,0.22)";
  ctx.fillRect(0,0,W,H);

  for(let i=particles.length-1;i>=0;i--){
    const p=particles[i];
    p.update(); p.draw();
    if(p.alpha<=0) particles.splice(i,1);
  }
  requestAnimationFrame(animate);
}
animate();


// ====== æ‰‹åŠ¨æ”¾çƒŸèŠ± =====================================================
const btn = document.getElementById("btnFire");
btn.onclick = ()=>{
  for(let i=0;i<3;i++){
    setTimeout(()=>{
      boom(random(W*0.2,W*0.8), random(H*0.15,H*0.55));
    }, i*200);
  }
};


// ====== æŒç»­çƒŸèŠ± =====================================================
let auto = false;
const autoBtn = document.getElementById("btnAutoFire");

let autoTimer = null;
autoBtn.onclick = ()=>{
  auto = !auto;
  autoBtn.textContent = auto ? "æŒç»­çƒŸèŠ±ï¼šON" : "æŒç»­çƒŸèŠ±ï¼šOFF";

  if(auto){
    autoTimer = setInterval(()=>{
      boom(random(W*0.2,W*0.8), random(H*0.15,H*0.55));
    }, 500);
  }else{
    clearInterval(autoTimer);
  }
};


// ====== æ–°å¹´è‡ªåŠ¨è¿çˆ† =====================================================
function celebrate(){
  const el = document.getElementById("celebrate");
  el.classList.add("show");

  for(let i=0;i<8;i++){
    setTimeout(()=>{
      boom(random(W*0.2,W*0.8), H*0.3);
    }, i*300);
  }
}


// ====== èƒŒæ™¯éŸ³ä¹æ§åˆ¶ =================================================
const music = document.getElementById("bgm");
const musicBtn = document.getElementById("btnMusic");

music.volume = 0.3;

let musicAllowed = false;
document.addEventListener("click", () => {
  musicAllowed = true;
}, { once:true });

let musicOn = false;
musicBtn.onclick = () => {
  if(!musicAllowed){
    musicAllowed = true;
  }

  musicOn = !musicOn;
  if (musicOn) {
    music.play().catch(()=>{});
    musicBtn.textContent = "éŸ³ä¹ï¼šON";
  } else {
    music.pause();
    musicBtn.textContent = "éŸ³ä¹ï¼šOFF";
  }
};
</script>
</body>
</html>%                                   
